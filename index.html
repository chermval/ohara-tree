<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">

    <title>OHARA'S TREE</title>

    <!-- attach our stylesheet -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- header element -->
    <header class="cabezera">
        <!-- our main logo -->
        <a id="logo" class="cabezera-logo" href="index.html">
            <span>Ohara's tree</span>
        </a>

        <!-- main navigation links -->
        <nav class="cabezera-menu">
            <ul>
                <li><a href="/html/createbook.html">Agregar libro</a></li>
                <li><a href="#">Login</a></li>
            </ul>
       </nav>
      
    </header>


    <!-- main element -->
    <main>
        <article>
            <h2>Libros registrados</h2>
            
            <table id="listaLibros" class="tabla-libros">
                <tr class="tabla-libros-cabezera">
                    <th>Titulo</th>
                    <th>Tipo</th>
                    <th>Coleccion</th>
                    <th>Autor</th>
                    <th>Formato</th>
		</tr>
                
            </table>

        </article>
    </main>


    <!-- main element -->
    <footer>
        <p>Create by: chermosi</p>
    </footer>
    
    
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyAqziyItFSVprB2olBX5xec0M2YVTQKG0w",
            authDomain: "ohara-tree.firebaseapp.com",
            databaseURL: "https://ohara-tree.firebaseio.com",
            projectId: "ohara-tree",
            storageBucket: "ohara-tree.appspot.com",
            messagingSenderId: "608431861904"
        };
        firebase.initializeApp(config);
        
        
        // Get a reference to the database service
        var database = firebase.database();
        var booksRef = database.ref("books/");
	
	var table = document.getElementById("listaLibros");
	       
	booksRef.orderByChild("title").on("child_added", function(data) {
		var rowCount = table.rows.length;
    		var row = table.insertRow(rowCount);
    		
    		row.insertCell(0).innerHTML= data.val().title;
    		row.insertCell(1).innerHTML= data.val().type;
    		row.insertCell(2).innerHTML= data.val().colection;
    		row.insertCell(3).innerHTML= data.val().autor;
    		row.insertCell(4).innerHTML= data.val().format;
	});
    </script>

</body>
</html>
